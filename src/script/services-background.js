const backgroundsJpg = {
  diagnostics:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/diagnostics-bg.jpg")',
  periodontics:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/periodontics.jpg")',
  dental_implantation:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/implant.jpg")',
  full_implantation:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/full.jpg")',
  endodontics:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/endo.jpg")',
  ceramic_restorations:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/keramic.jpg")',
  artistic_restoration:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/artist.jpg")',
  caries_treatment:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/caries_treatment.jpg")',
  gnathology:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/gnathology.jpg")',
  orthopedic_treatment:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/orthopedic-treatment-bg.jpg")',
  orthodontic_treatment:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/ortod.jpg")',
  pediatric_dentistry:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/pediatric-dentistry-bg.jpg")',
  teeth_whitening:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/white.jpg")',
  sleep_treatment:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/sleep-treatment-bg.jpg")',
  digital_dentistry:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/digital_dentistry.jpg")',
  professional_hygiene:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/professional_hygiene.jpg")',
};

const backgroundsWebp = {
  diagnostics:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/diagnostics-bg.webp")',
  periodontics:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/periodontics.webp")',
  dental_implantation:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/implant.webp")',
  full_implantation:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/full.webp")',
  endodontics:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/endo.webp")',
  ceramic_restorations:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/keramic.webp")',
  artistic_restoration:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/artist.webp")',
  caries_treatment:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/caries_treatment.webp")',
  gnathology:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/gnathology.webp")',
  orthopedic_treatment:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/orthopedic-treatment-bg.webp")',
  orthodontic_treatment:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/ortod.webp")',
  pediatric_dentistry:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/pediatric-dentistry-bg.webp")',
  teeth_whitening:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/white.webp")',
  sleep_treatment:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/sleep-treatment-bg.webp")',
  digital_dentistry:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/digital_dentistry.webp")',
  professional_hygiene:
    'linear-gradient(100.78deg, rgba(237, 232, 208, 0.2) 0.72%, rgba(158, 155, 139, 0.4) 8.17%, rgba(119, 116, 105, 0.8) 41.06%, rgba(99, 96, 87, 0.9) 74.15%, #4f4d46 99.28%), url("./images/backgrounds/professional_hygiene.webp")',
};

// Функція для перевірки підтримки WebP браузером
function supportsWebP() {
  return new Promise((resolve) => {
    const img = new Image();
    img.onload = () => resolve(img.width === 1 && img.height === 1);
    img.onerror = () => resolve(false);
    img.src =
      "data:image/webp;base64,UklGRhIAAABXRUJQVlA4TAYAAAAvAAAAAAfQ//73v/+BiOh/AAA=";
  });
}

const serviceItemsBgr = document.querySelectorAll(".services__item");

supportsWebP().then((isSupported) => {
  serviceItemsBgr.forEach((item) => {
    const id = item.id;
    const originalBackground = getComputedStyle(item).background;

    if (isSupported && backgroundsWebp[id]) {
      item.addEventListener("mouseover", () => {
        item.style.background = `${backgroundsWebp[id]} no-repeat center/cover`;
      });
    } else if (backgroundsJpg[id]) {
      item.addEventListener("mouseover", () => {
        item.style.background = `${backgroundsJpg[id]} no-repeat center/cover`;
      });
    }

    item.addEventListener("mouseout", () => {
      item.style.background = originalBackground;
    });
  });
});
